#!/bin/ksh
# @Object: Remove empty, not exsitant path in EC_*_PATH
# @Author: S.Chamberland
# @Date:   March 2014

#DESC='Remove empty, not exsitant path in EC_*_PATH'

if [[ x$1 == x-h || x$1 == x--help ]] ; then
	 more <<EOF
Remove empty, not exsitant path in EC_*_PATH

USAGE: eval \$(pf.clean_ec_path.dot)

EOF
    exit 0
fi


# if [[ x"${0##*/}" == x"pf.clean_ec_path.dot" ]] ; then
#    cat<<EOF
# =======================================
# ERROR: This script should be sourced
#        . $0
# =======================================
# EOF
#    exit 1
# fi

mytmp=""
for item in $EC_INCLUDE_PATH; do 
   if [[ x$(ls -1 ${item#-I} | wc -l | cut -d" " -f1) != x0 ]] ; then 
      mytmp="$mytmp $item"
   fi
done
echo export EC_INCLUDE_PATH=\"$mytmp\"
