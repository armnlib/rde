#!/bin/ksh
# @Object: Echo list of similar names
# @Author: S.Chamberland
# @Date:   Oct 2014
. .pfbase.inc.dot

DESC='Echo list of similar names'
USAGE="USAGE: ${MYSELF} [-h] [-v] [-l|-r|-b] NAME"

usage_long() {
	 toto=$(echo -e $USAGE)
	 more <<EOF
$DESC

$toto

Options:
    -h, --help    : print this help
    -v, --verbose : verbose mode
    -l, --local   : locate ${SRC_USR}/FILENAME
    -r, --ref     : locate ${SRC_REF}/FILENAME
    -b, --build   : locate ${BUILD_SRC}/FILENAME or ${mydirbinpre}/FILENAME 
    NAME          : SEARCH for files similar to name

EOF
}

mydirlist="${SRC_REF} ${SRC_USR} ${BUILD}"
while [[ $# -gt 0 ]] ; do
   case $1 in
      (-h|--help) usage_long; exit 0;;
      (-v|--verbose) ((verbose=verbose+1));;
      (-b|--build) mydirlist=${BUILD}  ;;
      (-l|--local) mydirlist=${SRC_USR};;
      (-r|--ref)   mydirlist=${SRC_REF};;
      (--) shift ; break;;
      (-*) myerror "Option Not recognized: $1";;
        *) break;;
    esac
	 previous=$1
    shift
done
myfile="$1"
filelist="$(.pfsimilnames.py $myfile $mydirlist)"
if [[ -n "$filelist" ]] ; then
   myecho 1 "Maybe you meant:"
   myecho 0 "$filelist"
else
   myecho 1 "No suggestions"
fi
