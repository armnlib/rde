
cat > .setenv.dot-pgi <<EOF
#. s.ssmuse.dot GEM/x/4.7.0-a8
. s.ssmuse.dot Prepend \
  Linux_x86-64:git \
  Linux_x86-64:mpich2 \
  Linux_x86-64:pgi9xx \
  AIX-powerpc7:Xlf13.110 \
  legacy \
  rmnlib-dev \
  devtools \\
EOF

cat > .setenv.dot-intel <<EOF
#. s.ssmuse.dot GEM/x/4.7.0-a8
. s.ssmuse.dot Prepend \
  Linux_x86-64:/ssm/net/hpcs/201311/00-test2/base  \
  Linux_x86-64:/ssm/net/hpcs/201311/00-test2/intel13sp1 \
  AIX-powerpc7:Xlf13.110 \
  AIX-powerpc7:rmnlib-dev \
  AIX-powerpc7:devtools \\
EOF

for item in .setenv.dot-pgi .setenv.dot-intel ; do
  cat >> $item <<EOF
  /ssm/net/rpn/libs/201309/01 \
  ENV/d/rpn_comm/4.5.10 \
  CMDN/vgrid/4.4.0-a2 \
  dot

export COMP_ARCH=\${COMP_ARCH:-\${EC_ARCH##*/}}
export ATM_MODEL_NAME=gem
export ATM_MODEL_VERSION=4.7.0-a8
export ATM_MODEL_COMPONENTS="modelutils rpnphy gemdyn"
modelutils_x="x/"
export modelutils_version=1.3.0-a3
rpnphy_x="x/"
export rpnphy_version=5.7.0-a8
gemdyn_x="x/"
export gemdyn_version=4.7.0-a8
export modelutils=/home/ordenv/ssm-domains9/ENV/\${modelutils_x=}modelutils/modelutils_\${modelutils_version}/modelutils_\${modelutils_version}_all
export rpnphy=/home/ordenv/ssm-domains9/ENV/\${rpnphy_x=}rpnphy/rpnphy_\${rpnphy_version}/rpnphy_\${rpnphy_version}_all
export gemdyn=/home/ordenv/ssm-domains9/GEM/\${gemdyn_x=}gemdyn/gemdyn_\${gemdyn_version}/gemdyn_\${gemdyn_version}_all

#export purplefrog=${0%/*}
export purplefrog=/users/dor/armn/sch/_Code_Depot_/work/etagere2/sch-pf
export PATH=\${purplefrog}/bin:\${PATH}

# export ATM_MODEL_MASSV=massvp4
# if [[ x\${BASE_ARCH} == xAIX || x\${BASE_ARCH} == xAIX-powerpc7 ]] ; then
# 	s.use gmake as make
# 	export ATM_MODEL_MASSV=massvp7_wrap
# fi
# export ATM_MODEL_modelutils_subdirs=${ATM_MODEL_modelutils_subdirs:-"base driver include include/${BASE_ARCH} include/${EC_ARCH} main \${ATM_MODEL_MASSV} tdpack utils"}

EOF
done

rm -f .setenv.dot
ln -sf .setenv.dot-intel .setenv.dot
. .setenv.dot