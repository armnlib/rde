#Shell Environement setup script, sourced from SSM pkg profile.sh (ssmuse)
#Usage: . .env_setup.dot ${packageName} ${packageVersion} ${packageArch} ${packageHome} ${domainHome}
#   $1 = ${packageName}
#   $2 = ${packageVersion}
#   $3 = ${packageArch}
#   $4 = ${packageHome}
#   $5 = ${domainHome}
if [[ x${3} == xall ]] ; then
   export ${1}=${4}
   export ${1}_version=${2}

   export RDE_COMPILER_VERSION=
   export PATH=.:$rde/bin:$PATH

   complete -f make
   if [[ x$ORDENV_PLAT == xaix-7.1-ppc7-64 ]] ; then
      s.use gmake as make
      s.use gtar as tar
      complete -f gmake
   # else
   #    complete -o default -F _longopt make
   fi

   _rdecomplete() {
      local cur prev opts cmd other snip
      COMPREPLY=()
      cur="${COMP_WORDS[COMP_CWORD]}"
      snip=${2:-[a-zA-Z0-9]}
      other="$(cd $rde/bin ; \ls rde${snip}* | cut -c4- | grep -v .pl)"
      if [[ x$3 != x$1 ]] ; then
         other=" "
      fi
      COMPREPLY=( $(echo $other) )
      return 0
   }
   complete -F _rdecomplete rde
fi

