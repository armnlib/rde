#!/bin/ksh
tmp_ATM_MODEL_NAME=gem
tmp_ATM_MODEL_VERSION=4.7.0-b3
tmp_PF_COMPILER_VERSION=1.0.0
tmp_COMP_ARCH_DEFAULT_LINUX=pgi9xx
tmp_COMP_ARCH_DEFAULT_AIX=xlf13
#purplefrog=/users/dor/armn/sch/SsmBundles/data/purplefrog
purplefrog=/users/dor/armn/sch/_Code_Depot_/work/purple-frog
purplefrog_src=/users/dor/armn/sch/SsmBundles/data/purplefrog-src

if [[ x"${0##*/}" == x"pf.setenv.dot" ]] ; then
   cat<<EOF
=======================================
ERROR: This script should be sourced
       . $0
=======================================
EOF
   exit 1
fi

cat > .setenv.dot <<EOF
if [[ x"\${0##*/}" == x".setenv.dot" ]] ; then
   cat<<EOF1
=======================================
ERROR: This script should be sourced
       . \$0 [COMP_ARCH]
=======================================
EOF1
   exit 1
fi

export purplefrog=$purplefrog
#export COMP_ARCH=\${1:-\${COMP_ARCH:-\${EC_ARCH##*/}}}
export COMP_ARCH=\${1:-\$COMP_ARCH}
if [[ x\${BASE_ARCH} == xAIX || x\${BASE_ARCH} == xAIX-powerpc7 ]] ; then
   export COMP_ARCH=\${COMP_ARCH:-$tmp_COMP_ARCH_DEFAULT_AIX}
else
   export COMP_ARCH=\${COMP_ARCH:-$tmp_COMP_ARCH_DEFAULT_LINUX}
fi

. \${purplefrog}/bin/.setenv0.dot \\
  $purplefrog \\
  \$COMP_ARCH \\
  $tmp_PF_COMPILER_VERSION \\
  $purplefrog_src \\
  $purplefrog/models \\
  $tmp_ATM_MODEL_NAME \\
  $tmp_ATM_MODEL_VERSION

EOF

unset tmp_ATM_MODEL_NAME tmp_ATM_MODEL_VERSION tmp_PF_COMPILER_VERSION tmp_COMP_ARCH_DEFAULT_LINUX tmp_COMP_ARCH_DEFAULT_AIX

. .setenv.dot

